import Vue, { CreateElement, VNode } from "vue";
import { Component, Prop } from "vue-property-decorator";
import color from "../../color.json";
import { IColor } from "../../colorInterface";


@Component
class TariffCard extends Vue {
  @Prop({ default: false }) hasSeal: boolean;
  @Prop({ default: null }) discount: String;
  @Prop({ default: "b2c-orange" }) color: string;
  colorObject: IColor = color;
  localColor: String = null;

  mounted() {
    if (this.color in this.colorObject) {
      this.localColor = this.colorObject[this.color];
    }
  }


  render(h: CreateElement): VNode {

    const additionalTopElements = (() => {
      if (this.hasSeal) {
        return <svg class="rt-card-seal" width="36px" height="72px" viewBox="0 0 36 72" version="1.1"
                    xmlns="http://www.w3.org/2000/svg">
          <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
            <g id="Card_v2-Copy" transform="translate(-388.000000, -870.000000)" fill={this.localColor}>
              <path
                d="M388,910.8 C407.2,931.6 416.8,942 416.8,942 C424,934.8 424,934.8 424,932.4 C424,932.4 424,884.4 424,877.2 C424,872.4 420,870 412,870 C418.4,870 421.6,871.6 421.6,874.8 C421.6,878 410.4,890 388,910.8 Z"
                id="Fill-5-Copy-6"></path>
            </g>
          </g>
        </svg>;
      } else if (this.discount) {
        return <div class="rt-card-discount">
          <svg width="76px" height="48px" viewBox="0 0 76 48" version="1.1" xmlns="http://www.w3.org/2000/svg">
            <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
              <g id="Card_v3_color-Copy" transform="translate(-362.000000, -871.000000)">
                <g id="sale-flags-copy" transform="translate(362.000000, 871.000000)">
                  <g id="Group-10">
                    <path
                      d="M75.1531322,35.7412929 C75.1510799,35.7453159 75.1485145,35.7488361 75.1464623,35.7528592 C75.06078,35.9122734 74.9591927,36.065653 74.8422133,36.2104836 C74.8196383,36.2381422 74.7970634,36.2647951 74.7734623,36.2914479 C74.7529396,36.3150834 74.7344691,36.3402276 74.7124072,36.3633603 C74.6990675,36.3789497 74.6862408,36.3945391 74.6718749,36.4096256 C74.6718749,36.4096256 63.2658734,47.5867242 63.2463768,47.6058338 L63.2463768,31.3043478 L72.3640977,31.3043478 C72.4682504,31.3048507 72.5724031,31.3103824 72.6765558,31.320943 C72.7186273,31.325469 72.7601858,31.3304978 72.8022573,31.3365324 L72.8068749,31.3370353 C72.8858873,31.3480987 72.9633605,31.3621795 73.0403206,31.3792775 C73.0469904,31.3807862 73.0536603,31.3822948 73.0598171,31.3833006 C73.2116851,31.4179996 73.3615008,31.4632592 73.508238,31.520085 C73.5138818,31.5220966 73.5190125,31.5241081 73.5246562,31.5261196 C73.5949464,31.5537783 73.6642105,31.5844542 73.7324485,31.6171416 C73.7421968,31.6221705 73.7524581,31.6266964 73.7622064,31.6317253 C73.8309574,31.6654185 73.8986823,31.7011233 73.964868,31.7403482 C73.9664072,31.741354 73.9679464,31.7423597 73.9694856,31.7433655 C74.0336191,31.7810818 74.0967264,31.8223183 74.1582944,31.8650634 C74.1685558,31.8721038 74.1793302,31.8786413 74.1895916,31.8861845 C74.2496204,31.9289297 74.3091363,31.9741892 74.3665998,32.0219632 C74.3778873,32.0310151 74.3891748,32.0405699 74.3999492,32.0501247 C74.459465,32.0999102 74.5174416,32.1517073 74.573366,32.2065216 C74.6323687,32.2638504 74.6872669,32.3236936 74.7401129,32.3845425 C74.748835,32.3940973 74.7575572,32.4036521 74.7657663,32.4132069 C74.8160469,32.4725472 74.8637621,32.5328933 74.9089121,32.594748 C74.9166081,32.6053086 74.923791,32.6158692 74.931487,32.6259268 C74.97715,32.690296 75.0207608,32.7556709 75.06078,32.8220516 C75.0623192,32.8250689 75.0638584,32.8275833 75.0653976,32.8300977 C75.1069561,32.8999986 75.1454361,32.9709052 75.1813509,33.0428176 C75.182377,33.0458349 75.1839162,33.0483493 75.1854554,33.0513666 C75.220857,33.1237819 75.2531803,33.197203 75.2824251,33.2711269 C75.2844774,33.2771615 75.2865297,33.2826933 75.289095,33.288225 C75.3788818,33.5200545 75.4389107,33.760433 75.4691817,34.0028231 C75.4804692,34.0958566 75.4876521,34.1873815 75.4907305,34.2789064 C75.4907305,34.288964 75.4912436,34.2980159 75.4912436,34.3080736 C75.494835,34.466985 75.4855998,34.6258963 75.4635379,34.7827961 C75.4619987,34.7933566 75.4599465,34.8034143 75.4584073,34.813472 C75.4378846,34.9512622 75.4071005,35.0880466 75.3665682,35.2223166 C75.3645159,35.2288541 75.3619506,35.2353916 75.3598983,35.2419291 C75.334758,35.3233963 75.3065393,35.4038577 75.273703,35.4833134 C75.2706246,35.4913595 75.26652,35.4999086 75.2629286,35.5079547 C75.2295792,35.5869075 75.1936645,35.6648545 75.1531322,35.7412929 Z"
                      id="Fill-245-Copy" fill="#BC104B"></path>
                    <path
                      d="M75.7770296,14.6736702 L75.7765165,26.0846098 L75.7760035,33.4986278 C75.7718989,33.5700373 75.7631768,33.640441 75.7565069,33.7108448 C75.7544546,33.7333069 75.7481268,33.7913062 75.7375234,33.8848426 C75.6092566,34.9011711 75.1423652,35.8063622 74.4697338,36.5229718 C74.5118054,36.4741921 74.5343803,36.4470363 74.5569553,36.4198806 C74.6739347,36.27505 74.7760351,36.1216704 74.8612043,35.9622562 C74.9084065,35.8742515 74.9448343,35.7958016 74.9781836,35.7168488 C75.0212813,35.6132547 75.0495,35.5327933 75.0746403,35.4513261 C75.1218425,35.2969407 75.1526266,35.1606592 75.1736623,35.0223661 C75.2008549,34.8347904 75.2095771,34.6763819 75.2064986,34.5174706 C75.2023941,34.3962756 75.1957242,34.3052536 75.1844367,34.2137287 C75.1541658,33.96983 75.0936238,33.7294515 75.003837,33.4971191 C74.9679223,33.4060971 74.9361121,33.3326761 74.9001974,33.2602608 C74.8601781,33.1797993 74.8216981,33.1088927 74.7801396,33.0394947 C74.7355028,32.9650679 74.691892,32.899693 74.646229,32.8353238 C74.5785041,32.7417874 74.5313019,32.6819442 74.4810213,32.6226039 C74.402009,32.5325877 74.3471107,32.4732474 74.2886211,32.4154157 C74.2321836,32.3606014 74.174207,32.3088043 74.1152043,32.2590188 C74.0238783,32.1830834 73.9648755,32.1383267 73.9043336,32.0955815 C73.8114684,32.0312124 73.7483611,31.9904788 73.6847407,31.9522596 C73.6134243,31.9105203 73.5456994,31.8748155 73.4769484,31.8411223 C73.3789525,31.7933483 73.3096884,31.7626724 73.2393982,31.7355166 C73.0767558,31.6721533 72.9269402,31.6268937 72.7750722,31.5926976 C72.6781025,31.5715765 72.6006293,31.5574957 72.5231561,31.5464323 C72.2871451,31.5197794 72.1829924,31.5137448 72.0788397,31.5137448 L66.349416,31.5137448 C66.349758,31.5134096 44.233286,31.5129067 0,31.5122362 L0,0 L70.961892,1.95623525e-05 C73.6231726,-0.00752369681 75.7744643,2.16744936 75.7754904,4.7879776 L75.7770296,14.6736702 Z M74.1116128,36.8880655 C74.1562497,36.8498464 74.1937036,36.8050897 74.2368012,36.7653619 L74.1116128,36.8880655 Z"
                      id="Fill-248-Copy" fill="#FF4F12"></path>
                  </g>
                </g>
              </g>
            </g>
          </svg>
          <span class="rt-card-discount__value">{this.discount}</span>
        </div>;
      } else {
        return null;
      }
    })();
    return <div class="rt-card rt-tariff-card">
      {additionalTopElements}
      {this.$slots.default}
    </div>;
  }
}

export default {
  component: TariffCard,
  name: "RtTariffCard"
};


